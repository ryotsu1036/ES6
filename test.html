<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>test</title>
</head>
<body>
    <ol id="renderList"></ol>

    <script src="test.js"></script>
    <script>
        const categories = data.response.category_list;

        console.log(categories.length);

        function getChildren(parentUl, parent_category_id = 0) {
            let children = categories
                .filter(category => category.parent_category_id === parent_category_id)
                .sort((a, b) => a.category_id - b.category_id);

            children.forEach(child => {
                let li = document.createElement('li');
                let fontColor = child.has_children || ' style="color: #4CAF50;"';
                li.innerHTML = `${child.category_id} - ${child.display_category_name} <b${fontColor}>(${child.has_children})</b>`;

                parentUl.appendChild(li);

                if (child.has_children) {
                    let ul = document.createElement('ul');
                    li.append(ul);

                    getChildren(ul, child.category_id);
                }
            });
        }

        getChildren(document.getElementById('renderList'));
    </script>
</body>
</html>
